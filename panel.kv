
<SettingsPopup>:
    size_hint: .3, .4
    pos_hint: {'y': .4}
    title: 'vJoy feeder IP address'
    BoxLayout:
        orientation: 'vertical'
        TextInput:
            multiline:  False
            id: ip
        Button:
            text: 'OK'
            on_press: root.on_ok()

<FlightPanel>:
    orientation: 'vertical'
    canvas:
        Rectangle:
            source: 'bg-xhdpi.png'
            pos: self.pos
            size: self.size
    
    #
    # first row
    #

    AnchorLayout:
        anchor_x: "right"
        anchor_y: "top"
        size_hint_y: .14
        padding: dp(5)

        Button:
            size_hint_x: None
            size_hint_y: .5
            
            width: dp(30)
            text: '...'
            font: 'Futura'
            bold: True
            on_press: root.show_popup()

    #
    # second row
    #

    BoxLastLayout:
        orientation: 'horizontal'
        size_hint_y: .7

        Widget:
            size_hint_x: .083


        Slider:
            id: spdbrk
            size_hint_x: .07
            orientation: 'vertical'
            min: 0.0
            max: 2.0
            step: 1.0
            value: 2.0
            on_value: root.send_spdbrk()
            canvas:
                Rectangle:
                    pos: (self.center_x - 64, self.value_pos[1] - 20)
                    size: (128, 64)
                    source: 'slider_spdbrk2.png'
        
        Widget:
            size_hint_x: .07
        
        Slider:
            id: t1
            size_hint_x: .07
            orientation: 'vertical'
            on_value: root.send_throttle()
            canvas:
                Rectangle:
                    pos: (self.center_x - 50, self.value_pos[1] - 35)
                    size: (100,70)
                    source: 'throttle_l.png'  
        
        Widget:
            size_hint_x: .075
       
        Slider:
            id: t2
            size_hint_x: .07
            orientation: 'vertical'
            #value: t1.value
            on_value: root.send_throttle()
            canvas:
                Rectangle:
                    pos: (self.center_x - 50, self.value_pos[1] - 35)
                    size: (100,70)
                    source: 'throttle_r.png'
        
        Widget:
            size_hint_x: .06

        Slider:
            id: etrim
            size_hint_x: .07
            orientation: 'vertical'
            value: 50
            on_value: root.send_etrim()
            canvas:
                Rectangle:
                    pos: (self.center_x - 15, self.value_pos[1] - 15)
                    size: (60, 30)
                    source: 'slider_trim.png'
        
        Widget:
            size_hint_x: .07

        Slider:
            id: flaps
            size_hint_x: .07
            orientation: 'vertical'
            min: 0
            max: 4
            step: 1
            value: 4
            on_value: root.send_flaps()
            canvas:
                Rectangle:
                    pos:  (self.center_x - 30, self.value_pos[1] - 15)
                    size: (60, 30)
                    source: 'slider_flaps2.png'
        
        Widget:
            size_hint_x: .08

        AnchorLayout:
            anchor_x: "center"
            anchor_y: "top"
            size_hint_x: .2

            BoxLayout:
                orientation: "vertical"
                size_hint_y: None
                height: dp(185)
                
                spacing: dp(5)

                Label:
                    size_hint_y: None
                    height: dp(30)
                    text: 'ALTITUDE'
                    font: 'Futura'
                    bold: True

                BoxLayout:
                    size_hint_y: None
                    height: dp(50)
                    orientation: "horizontal"
                    spacing: dp(10)

                    Button:
                        text: '-'
                        font: 'Futura'
                        bold: True
                        on_press: root.set_button('alt-')
                        on_release: root.unset_button('alt-')
                    Button:
                        text: '+'
                        font: 'Futura'
                        bold: True
                        on_press: root.set_button('alt+')
                        on_release: root.unset_button('alt+')
            
                Widget:
                    size_hint_y: None
                    height: dp(10)

                Label:
                    size_hint_y: None
                    height: dp(30)
                    text: 'HEADING'
                    font: 'Futura'
                    bold: True

                BoxLayout:
                    size_hint_y: None
                    height: dp(50)
                    orientation: "horizontal"
                    spacing: dp(10)

                    Button:
                        text: '-'
                        font: 'Futura'
                        bold: True
                        on_press: root.set_button('heading-')
                        on_release: root.unset_button('heading-')
                    Button:
                        text: '+'
                        font: 'Futura'
                        bold: True
                        on_press: root.set_button('heading+')
                        on_release: root.unset_button('heading+')

        Widget:

    Widget:
        size_hint_y: .05

    #
    # final row
    #

    AnchorLayout:
        anchor_x: "left"
        anchor_y: "center"
        size_hint_y: .15

        BoxLayout:
            orientation: 'horizontal'    
            padding: dp(5)
            spacing: dp(10)
            Button:
                size_hint_x: None
                width: dp(80)
                text: 'GEAR UP'
                font: 'Futura'
                bold: True
                on_press: root.set_button('gearup')
                on_release: root.unset_button('gearup')

            Button:
                size_hint_x: None
                width: dp(80)
                text: 'GEAR DN'
                font: 'Futura'
                bold: True
                on_press: root.set_button('geardown')
                on_release: root.unset_button('geardown')
            
            Widget:
                size_hint_x: None
                width: dp(50)
            
            Button:
                size_hint_x: None
                width: dp(80)
                text: 'MISC 1'
                font: 'Futura'
                bold: True
                on_press: root.set_button('misc1')
                on_release: root.unset_button('misc1')
            Button:
                size_hint_x: None
                width: dp(80)
                text: 'MISC 2'
                font: 'Futura'
                bold: True
                on_press: root.set_button('misc2')
                on_release: root.unset_button('misc2')
            Button:
                size_hint_x: None
                width: dp(80)
                text: 'MISC 3'
                font: 'Futura'
                bold: True
                on_press: root.set_button('misc3')
                on_release: root.unset_button('misc3')
            Button:
                size_hint_x: None
                width: dp(80)
                text: 'MISC 4'
                font: 'Futura'
                bold: True
                on_press: root.set_button('misc4')
                on_release: root.unset_button('misc4')
